<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>CyberPills - enero/febrero 2026 (3 visitas por grupo)</title>
<style>
:root {
  --bg: #f6f7fb;
  --text: #111;
  --muted: #444;
  --accent: #0b5f60;
  --border: #cfd6e4;
  --card: #fff;
}
body { font-family: Arial, sans-serif; margin: 24px; background: var(--bg); color: var(--text); }
h1 { color: var(--accent); margin-bottom: 8px; }
.meta { font-size: 12px; color: var(--muted); margin-bottom: 16px; }
.pills { margin: 16px 0 24px; }
.pills-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; }
.pill-card { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 12px; }
.pill-card h3 { margin: 0 0 8px; color: var(--accent); }
.pill-theme { margin: 8px 0; }
.pill-theme-title { font-weight: bold; }
.pill-theme ul { margin: 6px 0 0 18px; padding: 0; }
.fp-note { margin: 6px 0 0; font-size: 11px; color: var(--muted); }

.filters { display: flex; gap: 12px; align-items: center; margin: 12px 0 16px; flex-wrap: wrap; }
.filters label { font-size: 12px; color: var(--muted); }
.filters select, .filters button { margin-left: 6px; padding: 4px 6px; font-size: 12px; }
.filters button { cursor: pointer; }
.visit.dim { opacity: 0.25; }
.visit.highlight { outline: 2px solid #0b5f60; box-shadow: 0 0 0 2px rgba(11,95,96,0.15); }
.table-wrap { overflow-x: auto; }

table { border-collapse: collapse; width: 100%; background: var(--card); }
th, td { border: 1px solid var(--border); padding: 8px; vertical-align: top; font-size: 12px; }
th { background: #eef2f8; }
.slot { white-space: nowrap; }
.group { font-weight: bold; margin-top: 0; }
.cell { margin-top: 4px; }
.pill { margin-top: 6px; font-weight: bold; color: var(--accent); }
ul.pill-list { font-weight: normal; color: #0b5f60; margin: 6px 0 0 18px; padding: 0; }
ul.pill-list li { margin: 2px 0; }
.visit { padding: 6px 8px; border-radius: 6px; }
hr { border: none; border-top: 1px solid #e6eaf2; margin: 6px 0; }
</style>
</head>
<body>
<h1>CyberPills - enero/febrero 2026 (desde 26/01/2026)</h1>
<div class="meta">Equipos: 6 (3 alumnos por equipo). Franjas: Lunes 08:00-09:00, Martes 13:30-14:30 y Mi?rcoles 09:00-10:00. Objetivo: ESO, Bachillerato, DIVER y FP B?sica (GBEE/GBMV). Duraci?n estimada: 5-10 min por visita. Cada grupo recibe 3 visitas en fechas distintas, con 3 sesiones por nivel y tem?ticas diferentes. En cada visita, todas las p?ldoras son de la misma tem?tica.</div>
<section class="pills"><h2>P?ldoras disponibles por nivel</h2><p>El alumnado puede escoger una p?ldora de la lista de su nivel dentro de la tem?tica asignada.</p><div class="pills-grid"><div class="pill-card"><h3>1? ESO</h3><div class="pill-theme"><div class="pill-theme-title">Contrase?as seguras y 2FA</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Privacidad en redes</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Phishing y mensajes trampa</div><ul></ul></div></div><div class="pill-card"><h3>2? ESO</h3><div class="pill-theme"><div class="pill-theme-title">Contrase?as seguras y 2FA</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Privacidad en redes</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Phishing y mensajes trampa</div><ul></ul></div></div><div class="pill-card"><h3>3? ESO</h3><div class="pill-theme"><div class="pill-theme-title">Ciberacoso y c?mo actuar</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Grooming y consentimiento</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Sextorsi?n y chantaje</div><ul></ul></div></div><div class="pill-card"><h3>4? ESO</h3><div class="pill-theme"><div class="pill-theme-title">Ingenier?a social y suplantaci?n</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Privacidad en redes (avanzada)</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Ciberacoso, grooming y sextorsi?n</div><ul></ul></div></div><div class="pill-card"><h3>1? BACH</h3><div class="pill-theme"><div class="pill-theme-title">Ingenier?a social</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Suplantaci?n de identidad</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Riesgos en apps y fraudes</div><ul></ul></div></div><div class="pill-card"><h3>2? BACH</h3><div class="pill-theme"><div class="pill-theme-title">Ingenier?a social</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Suplantaci?n de identidad</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Riesgos en apps y fraudes</div><ul></ul></div></div><div class="pill-card"><h3>1? FP B?sica</h3><p class="fp-note">Usa las p?ldoras de 1? BACH.</p><div class="pill-theme"><div class="pill-theme-title">Ingenier?a social</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Suplantaci?n de identidad</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Riesgos en apps y fraudes</div><ul></ul></div></div><div class="pill-card"><h3>2? FP B?sica</h3><p class="fp-note">Usa las p?ldoras de 1? BACH.</p><div class="pill-theme"><div class="pill-theme-title">Ingenier?a social</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Suplantaci?n de identidad</div><ul></ul></div><div class="pill-theme"><div class="pill-theme-title">Riesgos en apps y fraudes</div><ul></ul></div></div></div></section>
<div class="filters">
  <label>Nivel:
    <select id="filter-level">
      <option value="">Todos</option>
    </select>
  </label>
  <label>Grupo:
    <select id="filter-group">
      <option value="">Todos</option>
    </select>
  </label>
  <button id="clear-filters" type="button">Limpiar</button>
</div>
<div class="table-wrap">
<table><tr><th>Fecha</th><th>D?a</th><th>Hora</th><th>Equipo 1</th><th>Equipo 2</th><th>Equipo 3</th><th>Equipo 4</th><th>Equipo 5</th><th>Equipo 6</th></tr><tr><td class="slot">26/01/2026</td><td class="slot">Lunes</td><td class="slot">08:00-09:00</td><td><div class="visit" style="background-color: #fff4e8;"><div class="group">1? GBMV</div><div class="cell">1 FPB-AMO (<strong>Indovinio López, Flavio</strong>) [<strong>Z10</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #f0f5e8;"><div class="group">1º BACH A</div><div class="cell">1ºDeBa(cFíYQ (<strong>Andrade, Laura Cristina</strong>) [<strong>X41</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #f0f5e8;"><div class="group">1º BACH A</div><div class="cell">1ºDeBa(hYCiG (<strong>Rodríguez Arce, Julio José</strong>) [<strong>X47.LATÍN</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #f5e8ed;"><div class="group">1º BACH B</div><div class="cell">MATES APLICA (<strong>Aragón, María Jesús</strong>) [<strong>X42</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #f5e8ed;"><div class="group">1º BACH B</div><div class="cell">1ºDeBac(ciMa (<strong>Leiva Ruiz, Rosario</strong>) [<strong>X48</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #e8edf5;"><div class="group">1º BACH C</div><div class="cell">1ºDeB(YCHDMC (<strong>Guarino Rivas, Silvia</strong>) [<strong>X43</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #e8fff1;"><div class="group">2? GBMV</div><div class="cell">2 FPB-MV (<strong>Grijuela Díaz, José María</strong>) [<strong>Y18</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #ffe8f1;"><div class="group">2ª BACH C</div><div class="cell">2ºDeB(YCHDLF (<strong>Parrila, Celia María</strong>) [<strong>X46</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #eef6ff;"><div class="group">2º BACH A</div><div class="cell">2ºDeBa(cLCYL (<strong>Ruiz Nuño, Beatriz</strong>) [<strong>X44</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #eef9f3;"><div class="group">2º BACH B</div><div class="cell">2ºDeBac(ciFí (<strong>Andreu, Miguel</strong>) [<strong>X45</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #eef9f3;"><div class="group">2º BACH B</div><div class="cell">2ºDeB(YCEDLE (<strong>Corrales, Andrés.</strong>) [<strong>X49</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #e8fff9;"><div class="group">2º GBEE</div><div class="cell">2ºDeF.(YECAI (<strong>Traverso Callejón, Mª Carmen</strong>) [<strong>Y11</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #f9f2e8;"><div class="group">3º DIVER</div><div class="cell">TUT/RELIG (<strong>DIVER COMUN</strong>) [<strong>aula emocion</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ciberacoso y c?mo actuar<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #e8f4ff;"><div class="group">4º DIVER</div><div class="cell">AMBITO C. I (<strong>Romero, Juana</strong>) [<strong>X28</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ingenier?a social y suplantaci?n<ul class="pill-list"></ul></div></div></td><td></td></tr><tr><td class="slot">27/01/2026</td><td class="slot">Martes</td><td class="slot">13:30-14:30</td><td><div class="visit" style="background-color: #f0f5e8;"><div class="group">1º BACH A</div><div class="cell">1ºDeBac(ciFi (<strong>Solís Sánchez, Juan Lorenzo</strong>) [<strong>X41</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #f5e8ed;"><div class="group">1º BACH B</div><div class="cell">MATES APLICA (<strong>Aragón, María Jesús</strong>) [<strong>X42</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #f5e8ed;"><div class="group">1º BACH B</div><div class="cell">1ºDeBac(ciMa (<strong>Leiva Ruiz, Rosario</strong>) [<strong>X49</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #e8edf5;"><div class="group">1º BACH C</div><div class="cell">1ºDeBa(hYCiI (<strong>Morilla Gallardo, Claudia</strong>) [<strong>X48</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #e8fff1;"><div class="group">2? GBMV</div><div class="cell">2 FPB-PROYEC (<strong>Santos Delgado, Roberto</strong>) [<strong>Y24</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #ffe8f1;"><div class="group">2ª BACH C</div><div class="cell">ACT. FÍSICA (<strong>García Gómez, Guillermo Javier</strong>) [<strong>Gim</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #ffe8f1;"><div class="group">2ª BACH C</div><div class="cell">2ºDeBac(ciPs (<strong>Parrila, Celia María</strong>) [<strong>X46</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #eef6ff;"><div class="group">2º BACH A</div><div class="cell">ACT. FÍSICA (<strong>Mangado Ariza, Daniel</strong>) [<strong>pista</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #eef6ff;"><div class="group">2º BACH A</div><div class="cell">2ºDeBac(ciPs (<strong>Parrila, Celia María</strong>) [<strong>X46</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #eef9f3;"><div class="group">2º BACH B</div><div class="cell">ACT. FÍSICA (<strong>García Gómez, Guillermo Javier</strong>) [<strong>Gim</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #eef9f3;"><div class="group">2º BACH B</div><div class="cell">2ºDeBac(ciPs (<strong>Parrila, Celia María</strong>) [<strong>X46</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #f9f2e8;"><div class="group">3º DIVER</div><div class="cell">EPVA/TECN (<strong>DIVER COMUN</strong>) [<strong>X27</strong>]</div><div class="pill"><strong>CyberPill:</strong> Grooming y consentimiento<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #e8f4ff;"><div class="group">4º DIVER</div><div class="cell">AMBITO L. I (<strong>Guarino Rivas, Silvia</strong>) [<strong>X28</strong>]</div><div class="pill"><strong>CyberPill:</strong> Privacidad en redes (avanzada)<ul class="pill-list"></ul></div></div></td><td></td></tr><tr><td class="slot">28/01/2026</td><td class="slot">Mi?rcoles</td><td class="slot">09:00-10:00</td><td><div class="visit" style="background-color: #fff4e8;"><div class="group">1? GBMV</div><div class="cell">1 FPB-PS (<strong>Jimenez Salas, José Fco.</strong>) [<strong>Y20 AULA FOL</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #f0f5e8;"><div class="group">1º BACH A</div><div class="cell">1BACH_HIST (<strong>Rozas, Francisco Miguel</strong>) [<strong>X41</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #f0f5e8;"><div class="group">1º BACH A</div><div class="cell">Dibujo técn. (<strong>Pardal, David</strong>) [<strong>X49-DIBUJO</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #f5e8ed;"><div class="group">1º BACH B</div><div class="cell">1BACH_HIST (<strong>Rozas, Francisco Miguel</strong>) [<strong>X41</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #f5e8ed;"><div class="group">1º BACH B</div><div class="cell">1ºDeBa(cBiYG (<strong>Márquez, Laura</strong>) [<strong>X42</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #e8edf5;"><div class="group">1º BACH C</div><div class="cell">1ºDeB(YCMAAL (<strong>Traverso Callejón, Mª Carmen</strong>) [<strong>X43</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #e8edf5;"><div class="group">1º BACH C</div><div class="cell">1ºDeB(YCMAAL (<strong>Aragón, María Jesús</strong>) [<strong>X49</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #ffe8f1;"><div class="group">2ª BACH C</div><div class="cell">ACT. FÍSICA (<strong>García Gómez, Guillermo Javier</strong>) [<strong>Gim</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #ffe8f1;"><div class="group">2ª BACH C</div><div class="cell">2ºDeBac(ciPs (<strong>Parrila, Celia María</strong>) [<strong>X46</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #eef6ff;"><div class="group">2º BACH A</div><div class="cell">ACT. FÍSICA (<strong>Mangado Ariza, Daniel</strong>) [<strong>pista</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #eef6ff;"><div class="group">2º BACH A</div><div class="cell">2ºDeBac(ciPs (<strong>Parrila, Celia María</strong>) [<strong>X46</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #eef9f3;"><div class="group">2º BACH B</div><div class="cell">ACT. FÍSICA (<strong>García Gómez, Guillermo Javier</strong>) [<strong>Gim</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div></td><td><div class="visit" style="background-color: #eef9f3;"><div class="group">2º BACH B</div><div class="cell">2ºDeBac(ciPs (<strong>Parrila, Celia María</strong>) [<strong>X46</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #f9f2e8;"><div class="group">3º DIVER</div><div class="cell">AMB CT I (<strong>Rubio Rosendo, David</strong>) [<strong>X27</strong>]</div><div class="pill"><strong>CyberPill:</strong> Sextorsi?n y chantaje<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #e8f4ff;"><div class="group">4º DIVER</div><div class="cell">PROYECTO (<strong>Olivares Ruiz, Jesús Manuel</strong>) [<strong>X28</strong>]</div><div class="pill"><strong>CyberPill:</strong> Ciberacoso, grooming y sextorsi?n<ul class="pill-list"></ul></div></div></td><td></td></tr><tr><td class="slot">02/02/2026</td><td class="slot">Lunes</td><td class="slot">08:00-09:00</td><td><div class="visit" style="background-color: #fff4e8;"><div class="group">1? GBMV</div><div class="cell">1 FPB-AMO (<strong>Indovinio López, Flavio</strong>) [<strong>Z10</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #e8fff1;"><div class="group">2? GBMV</div><div class="cell">2 FPB-MV (<strong>Grijuela Díaz, José María</strong>) [<strong>Y18</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div><hr><div class="visit" style="background-color: #e8fff9;"><div class="group">2º GBEE</div><div class="cell">2ºDeF.(YECAI (<strong>Traverso Callejón, Mª Carmen</strong>) [<strong>Y11</strong>]</div><div class="pill"><strong>CyberPill:</strong> Suplantaci?n de identidad<ul class="pill-list"></ul></div></div></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td class="slot">03/02/2026</td><td class="slot">Martes</td><td class="slot">13:30-14:30</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td class="slot">04/02/2026</td><td class="slot">Mi?rcoles</td><td class="slot">09:00-10:00</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td class="slot">09/02/2026</td><td class="slot">Lunes</td><td class="slot">08:00-09:00</td><td><div class="visit" style="background-color: #e8fff9;"><div class="group">2º GBEE</div><div class="cell">2ºDeF.(YECAI (<strong>Traverso Callejón, Mª Carmen</strong>) [<strong>Y11</strong>]</div><div class="pill"><strong>CyberPill:</strong> Riesgos en apps y fraudes<ul class="pill-list"></ul></div></div></td><td></td><td></td><td></td><td></td><td></td></tr></table>
</div>

<script>
(function() {
  const levelSelect = document.getElementById('filter-level');
  const groupSelect = document.getElementById('filter-group');
  const clearBtn = document.getElementById('clear-filters');
  const visits = Array.from(document.querySelectorAll('.visit'));
  const DEG = 'º';

  function uniq(arr) { return Array.from(new Set(arr)); }

  function getGrade(group) {
    const m = group.match(/^(\d+)\s*º/);
    if (m) return m[1] + DEG;
    const m2 = group.match(/^(\d+)/);
    return m2 ? m2[1] + DEG : '';
  }

  function getLevel(group) {
    const g = group.trim();
    const grade = getGrade(g) || g;
    if (g.includes('GBEE')) return `${grade} GBEE`;
    if (g.includes('GBMV')) return `${grade} GBMV`;
    if (g.includes('DIVER')) return `${grade} DIVER`;
    if (g.includes('BACH')) return `${grade} BACH`;
    if (g.startsWith('1' + DEG)) return '1' + DEG + ' ESO';
    if (g.startsWith('2' + DEG)) return '2' + DEG + ' ESO';
    if (g.startsWith('3' + DEG)) return '3' + DEG + ' ESO';
    if (g.startsWith('4' + DEG)) return '4' + DEG + ' ESO';
    return 'ESO';
  }

  visits.forEach(v => {
    const groupEl = v.querySelector('.group');
    const group = groupEl ? groupEl.textContent.trim() : '';
    v.dataset.group = group;
    v.dataset.level = getLevel(group);
  });

  const levels = uniq(visits.map(v => v.dataset.level)).sort();
  const groups = uniq(visits.map(v => v.dataset.group)).sort();

  levels.forEach(l => {
    const opt = document.createElement('option');
    opt.value = l; opt.textContent = l;
    levelSelect.appendChild(opt);
  });
  groups.forEach(g => {
    const opt = document.createElement('option');
    opt.value = g; opt.textContent = g;
    groupSelect.appendChild(opt);
  });

  function applyFilters() {
    const level = levelSelect.value;
    const group = groupSelect.value;
    visits.forEach(v => {
      const matchLevel = !level || v.dataset.level === level;
      const matchGroup = !group || v.dataset.group === group;
      const match = matchLevel && matchGroup;
      v.classList.toggle('dim', !match && (level || group));
      v.classList.toggle('highlight', match && (level || group));
    });
  }

  levelSelect.addEventListener('change', applyFilters);
  groupSelect.addEventListener('change', applyFilters);
  clearBtn.addEventListener('click', () => {
    levelSelect.value = '';
    groupSelect.value = '';
    applyFilters();
  });
})();
</script>

</body>
</html>
